; EXPECT: stack array, element store and load
target triple = "unknown-unknown-unknown"
target datalayout = ""

define i32 @sum_array() {
entry.0:
    %arr.0 = alloca [3 x i32]
    %elem0.0 = getelementptr [3 x i32], ptr %arr.0, i32 0, i32 0
    %elem1.0 = getelementptr [3 x i32], ptr %arr.0, i32 0, i32 1
    %elem2.0 = getelementptr [3 x i32], ptr %arr.0, i32 0, i32 2
    store i32 1, ptr %elem0.0
    store i32 2, ptr %elem1.0
    store i32 3, ptr %elem2.0
    %v0.0 = load i32, ptr %elem0.0
    %v1.0 = load i32, ptr %elem1.0
    %v2.0 = load i32, ptr %elem2.0
    %tmp.0 = add i32 %v0.0, %v1.0
    %sum.0 = add i32 %tmp.0, %v2.0
    ret i32 %sum.0
}
